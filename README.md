# 🀄 中国語拼音ツール

Webページ上の中国語テキストに、声調記号付きの拼音（ピンイン）を自動付与するChrome拡張機能です。

![拼音の表示例]

```
     nǐ   hǎo   shì   jiè
     你    好    世    界
```

---

## 機能

- 🔤 **拼音の自動付与** — ページ内の中国語（漢字）の真上に声調記号付き拼音を表示
- 🔴 **見やすいスタイル** — 赤色のルビ文字で表示（`<ruby>` タグ使用）
- 🔁 **ON/OFF 切り替え** — ツールバーのポップアップから即時トグル可能
- 📴 **完全オフライン動作** — 外部APIへの通信なし（辞書データはローカルに内蔵）

---

## インストール方法

### 1. Chrome に拡張機能を読み込む

1. Chrome で `chrome://extensions` を開く
2. 右上の **「デベロッパーモード」** をONにする
3. **「パッケージ化されていない拡張機能を読み込む」** をクリック
4. `PinyinExtension/` フォルダを選択する

### 3. 完了 🎉

ツールバーに 🀄 アイコンが表示されれば準備完了です。

---

## 使い方

1. 中国語が表示されているWebページを開く
2. ツールバーの **🀄 アイコン** をクリック
3. ポップアップ内の **「拼音を表示」** トグルを **ON** にする
4. ページの中国語テキストの上に拼音が表示される

トグルを **OFF** にすると、拼音が除去されて元の表示に戻ります。

---

## 表示の仕組み

中国語テキストを検出すると、HTML の `<ruby>` タグを使って各文字の上に拼音を配置します。

```html
<!-- 変換前 -->
你好世界

<!-- 変換後 -->
<ruby>你<rt>nǐ</rt></ruby>
<ruby>好<rt>hǎo</rt></ruby>
<ruby>世<rt>shì</rt></ruby>
<ruby>界<rt>jiè</rt></ruby>
```

---

## 使用ライブラリ

| ライブラリ | バージョン | 用途 |
|---|---|---|
| [pinyin-pro](https://github.com/zh-lx/pinyin-pro) | v3.28.0 | 中国語→拼音変換（声調記号付き） |

---

## ファイル構成

```
PinyinExtension/
├── manifest.json       # Chrome拡張機能の設定（Manifest V3）
├── background.js       # ON/OFF状態の管理（chrome.storage.local）
├── content.js          # DOMへの拼音付与・除去ロジック
├── popup.html          # ポップアップUI
├── popup.js            # ポップアップのロジック
├── style.css           # 拼音のスタイル
└── lib/
    └── pinyin-pro.js   # 拼音変換ライブラリ（ローカルバンドル）
```

---

## 動作確認環境

- Google Chrome 120以上
- Manifest V3 対応

---

## ライセンス

MIT
